(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('http'), require('fs')) :
  typeof define === 'function' && define.amd ? define(['http', 'fs'], factory) :
  (global = global || self, factory(global.http, global.fs));
}(this, function (http, fs) { 'use strict';

  http = http && http.hasOwnProperty('default') ? http['default'] : http;
  fs = fs && fs.hasOwnProperty('default') ? fs['default'] : fs;

  const about = fs.readFileSync(__dirname+"/about.html");
  const index = fs.readFileSync(__dirname+"/index.html");
  const error = fs.readFileSync(__dirname+"/error.html");
  const contact = fs.readFileSync(__dirname+"/contact.html");

  http
    .createServer(function(req, res) {
      const route = req.method + " " + req.url;
      console.log("route", route);

      switch (route) {
          case "GET /":
              res.writeHead(200, { "Content-Type": "text/html" });
              res.end(index);
          break;

          case "GET /about":
              res.writeHead(200, { "Content-Type": "text/html" });
              res.end(about);
          break;

          case "GET /contact":
              res.writeHead(200, { "Content-Type": "text/html" });
              res.end(contact);
          break;

          default:
              res.writeHead(404, { "Content-Type": "text/html" });
              res.end(error);
              break;
      }
    })
    .listen(9615);

}));
